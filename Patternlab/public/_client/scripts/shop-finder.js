!function t(e,i,n){function s(r,a){if(!i[r]){if(!e[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(o)return o(r,!0);var h=new Error("Cannot find module '"+r+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[r]={exports:{}};e[r][0].call(c.exports,function(t){var i=e[r][1][t];return s(i?i:t)},c,c.exports,t,e,i,n)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=t("mustache"),r=t("debounce"),a=function(){function e(i,s,o){n(this,e);var r=t("google-maps-infobox");this.google=i,this.map=s,this.mapData=o;this.infoWindow=new r({alignBottom:!0,boxClass:"infobox",disableAutoPan:!0,closeBoxMargin:"10px",closeBoxURL:"data:image/svg+xml;base64, "+btoa('<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12"><path fill="#545454" fill-rule="evenodd" d="M11.46 1.645L10.354.54l-4.2 4.2L1.958.54.854 1.646l4.2 4.2-4.2 4.198 1.103 1.103 4.2-4.2 4.198 4.2 1.104-1.103-4.2-4.2"/></svg>'),enableEventPropagation:!1,pane:"floatPane",pixelOffset:new this.google.maps.Size(0,-80)}),this.markerPosition=null,this.sidebar=document.querySelector(".card-results"),this.sidebarWidth=0,this.bindEvents()}return s(e,[{key:"bindEvents",value:function(){var t=this;this.google.maps.event.addDomListener(this.map,"click",function(){t.close(),t.map.windowOpen=!1}),this.google.maps.event.addListener(this.infoWindow,"closeclick",function(){t.map.windowOpen=!1}),this.google.maps.event.addDomListener(window,"resize",function(){t.map.windowOpen&&r(t.mapUpdateCentre(t.markerPosition),1e3)})}},{key:"panWithOffset",value:function(t,e,i){var n=this.map,s=new this.google.maps.OverlayView;s.onAdd=function(){var s=this.getProjection(),o=s.fromLatLngToContainerPixel(t);o.x=o.x+e,o.y=o.y+i,n.panTo(s.fromContainerPixelToLatLng(o))},s.draw=function(){},s.setMap(n)}},{key:"mapUpdateCentre",value:function(t){window.matchMedia("(min-width: 768px)").matches?(this.sidebarWidth=this.sidebar.offsetWidth,this.panWithOffset(t,-Math.abs(this.sidebarWidth/2),-100)):this.panWithOffset(t,0,-140)}},{key:"setContent",value:function(t){t.directionsLink="https://maps.google.com/?saddr="+this.mapData.center.lat+","+this.mapData.center.lng+"&daddr="+t.lat+","+t.lng;this.infoWindow.setContent(o.render('\n    <div class="o-card card-details{{# isDonationPoint }} donation-point{{/ isDonationPoint }}">\n      <h2 class="card-details__title">{{ title }}</h2>\n      {{# isDonationPoint }}\n        <span class="card-details__store-type">Donation point</span>\n      {{/ isDonationPoint }}\n      <ul class="list-details">\n        {{# address }}\n          <li class="list-details__item">\n            <i class="icon">\n              <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n                <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"></path>\n                <path d="M0 0h24v24H0z" fill="none"></path>\n              </svg>\n            </i>\n            <span class="list-details__text">{{{ address }}}</span>\n          </li>\n        {{/ address }}\n        {{# showOpeningHours }}\n          <li class="list-details__item">\n            <i class="icon">\n              <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n                <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path>\n                <path d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"></path>\n              </svg>\n            </i>\n            <div class="opening-times list-details__text">\n              <div class="opening-times__open">\n                <span class="opening-times__day">Open now:</span>\n                <span class="opening-times__time">9am â€“ 5:30pm</span>\n              </div>\n            </div>\n          </li>\n        {{/ showOpeningHours }}\n        {{# phone }}\n          <li class="list-details__item">\n            <i class="icon">\n              <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n                <path d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"></path>\n              </svg>\n            </i>\n            <span class="list-details__text">{{{ phone }}}</span>\n          </li>\n        {{/ phone }}\n        {{# specialties }}\n          <li class="list-details__item">\n            <i class="icon">\n              <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n                <path d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path>\n                <path d="M0 0h24v24H0z" fill="none"></path>\n              </svg>\n            </i>\n            <span class="list-details__text"><strong>Specialties:</strong> {{{ specialties }}}</span>\n          </li>\n        {{/ specialties }}\n        {{# accepts }}\n          <li class="list-details__item">\n            <i class="icon">\n              <svg fill="#000000" height="24" viewBox="0 0 25 25" width="24" xmlns="http://www.w3.org/2000/svg">\n                <path d="M0 0h24v24H0z" fill="none"/>\n                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>\n              </svg>\n            </i>\n            <span class="list-details__text"><strong>Accepts:</strong> {{{ accepts }}}</span>\n          </li>\n        {{/ accepts }}\n      </ul>\n      <div class="card-details__cta">\n        {{^ isDonationPoint }}\n          <a href="{{{ href }}}" class="btn btn--half">More details</a>\n        {{/ isDonationPoint }}\n        <a href="{{{ directionsLink }}}" class="btn btn--half btn--secondary" target="_blank">Get directions</a>\n      </div>\n    </div>',t))}},{key:"close",value:function(){this.infoWindow.close()}},{key:"open",value:function(t){this.infoWindow.open(this.map,t),this.map.windowOpen=!0,this.markerPosition=t.position,this.mapUpdateCentre(this.markerPosition)}}]),e}();e.exports=a},{debounce:13,"google-maps-infobox":15,mustache:17}],2:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=t("../classes/Marker"),r=t("../classes/InfoWindow"),a=t("object-merge"),l=t("google-maps");l.KEY="AIzaSyAbd-c7KSOOF7tvv2b_xGtRPJrYCR23wJA",l.REGION="GB",l.LANGUAGE="en";var h=function(){function t(e,i){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];n(this,t),this.map=null,this.mapElement=e,this.mapCenter=i,this.mapStyles=[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}],this.mapOptions=a({mapTypeControl:!1,streetViewControl:!1,scrollwheel:!1,styles:this.mapStyles,center:this.mapCenter,maxZoom:18},s),this.mapMarkers=[],this.mapWindow=null,this.showWindow=o,this.infoWindow=null,this.google=null,this.sidebar=document.querySelector(".card-results"),this.sidebarWidth=null!==this.sidebar?this.sidebar.offsetWidth:0}return s(t,[{key:"mapSetCentre",value:function(t){this.map.setCenter(t)}},{key:"mapGetCentre",value:function(){this.mapCenter=this.map.getCenter()}},{key:"mapOffsetCentre",value:function(){window.matchMedia("(min-width: 768px)").matches&&null!==this.sidebar?(this.sidebarWidth=this.sidebar.offsetWidth,this.map.panBy(-Math.abs(this.sidebarWidth/2),-32)):this.map.panBy(0,-32)}},{key:"addWindow",value:function(){this.infoWindow=new r(this.google,this.map,this.mapOptions)}},{key:"closeWindow",value:function(){null!==this.infoWindow&&this.infoWindow.close()}},{key:"addMarkers",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.length>0){var i=new this.google.maps.LatLngBounds,n=!0,s=!1,r=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var h=a.value,c=new o(h,this.google,this.map,function(e,i){return t._markerClick(e,i)});this.mapMarkers.push(c),i.extend(c.position())}}catch(t){s=!0,r=t}finally{try{!n&&l.return&&l.return()}finally{if(s)throw r}}this.map.fitBounds(i)}}},{key:"_markerClick",value:function(t,e){this.infoWindow?(this.infoWindow.setContent(t),this.infoWindow.open(e)):window.open(t.directionsUrl)}},{key:"updateBounds",value:function(){if(0===this.mapMarkers.length)return!1;var t=new this.google.maps.LatLngBounds,e=!0,i=!1,n=void 0;try{for(var s,o=this.mapMarkers[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){var r=s.value;t.extend(r.position())}}catch(t){i=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw n}}this.map.fitBounds(t),this.mapOffsetCentre()}},{key:"load",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];l.load(function(i){t.google=i,t.map=new t.google.maps.Map(t.mapElement,t.mapOptions),t.google.maps.event.addDomListener(t.map,"idle",function(){t.mapGetCentre()}),t.google.maps.event.addDomListener(window,"resize",function(){t.map.windowOpen||(t.mapSetCentre(t.mapCenter),t.updateBounds())}),t.google.maps.event.addListenerOnce(t.map,"bounds_changed",function(){t.mapOffsetCentre()}),t.showWindow&&t.addWindow(),t.addMarkers(e)})}}]),t}();e.exports=h},{"../classes/InfoWindow":1,"../classes/Marker":3,"google-maps":16,"object-merge":19}],3:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(e,i,s,o){n(this,t),this.google=i,this.map=s,this.data=e,this.latlng=new this.google.maps.LatLng(this.data.lat,this.data.lng);var r="donate"===this.data.type?'<svg xmlns="http://www.w3.org/2000/svg" width="48" height="64" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="b" d="M18.55 0C8.294 0 0 8.294 0 18.55 0 32.462 18.55 53 18.55 53S37.1 32.462 37.1 18.55C37.1 8.294 28.805 0 18.55 0z"/><filter id="a" width="188.9%" height="162.3%" x="-44.5%" y="-19.8%" filterUnits="objectBoundingBox"><feOffset dy="3" in="SourceAlpha" result="shadowOffsetOuter1"/><feGaussianBlur stdDeviation="3" in="shadowOffsetOuter1" result="shadowBlurOuter1"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0" in="shadowBlurOuter1" result="shadowMatrixOuter1"/><feOffset dy="3" in="SourceAlpha" result="shadowOffsetOuter2"/><feGaussianBlur stdDeviation="3" in="shadowOffsetOuter2" result="shadowBlurOuter2"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.23 0" in="shadowBlurOuter2" result="shadowMatrixOuter2"/><feMerge><feMergeNode in="shadowMatrixOuter1"/><feMergeNode in="shadowMatrixOuter2"/></feMerge></filter></defs><g fill="none" transform="translate(5 2)"><use fill="#000" filter="url(#a)" xlink:href="#b"/><use fill="#0088E1" fill-rule="evenodd" xlink:href="#b"/><path fill="#FFF" d="M26.2 14.79h-1.962c.1-.294.162-.616.162-.948C24.4 12.27 23.194 11 21.7 11c-.945 0-1.764.512-2.25 1.28l-.45.634-.45-.645C18.064 11.51 17.245 11 16.3 11c-1.494 0-2.7 1.27-2.7 2.842 0 .332.063.654.162.947H11.8c-1 0-1.79.843-1.79 1.894L10 27.104c0 1.053.8 1.896 1.8 1.896h14.4c1 0 1.8-.843 1.8-1.895v-10.42c0-1.052-.8-1.896-1.8-1.896zm-4.5-1.895c.495 0 .9.426.9.947 0 .52-.405.947-.9.947s-.9-.427-.9-.948c0-.52.405-.947.9-.947zm-5.4 0c.495 0 .9.426.9.947 0 .52-.405.947-.9.947s-.9-.427-.9-.948c0-.52.405-.947.9-.947zm9.9 14.21H11.8V25.21h14.4v1.895zm0-4.737H11.8v-5.684h4.572l-1.872 2.68 1.458 1.11 2.142-3.07.9-1.288.9 1.288 2.142 3.07 1.458-1.11-1.872-2.68H26.2v5.684z"/></g></svg>':'<svg xmlns="http://www.w3.org/2000/svg" width="48" height="64" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="b" d="M18.55 0C8.294 0 0 8.294 0 18.55 0 32.462 18.55 53 18.55 53S37.1 32.462 37.1 18.55C37.1 8.294 28.805 0 18.55 0z"/><filter id="a" width="188.9%" height="162.3%" x="-44.5%" y="-19.8%" filterUnits="objectBoundingBox"><feOffset dy="3" in="SourceAlpha" result="shadowOffsetOuter1"/><feGaussianBlur stdDeviation="3" in="shadowOffsetOuter1" result="shadowBlurOuter1"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0" in="shadowBlurOuter1" result="shadowMatrixOuter1"/><feOffset dy="3" in="SourceAlpha" result="shadowOffsetOuter2"/><feGaussianBlur stdDeviation="3" in="shadowOffsetOuter2" result="shadowBlurOuter2"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.23 0" in="shadowBlurOuter2" result="shadowMatrixOuter2"/><feMerge><feMergeNode in="shadowMatrixOuter1"/><feMergeNode in="shadowMatrixOuter2"/></feMerge></filter></defs><g fill="none" fill-rule="evenodd"><g fill-rule="nonzero" transform="translate(5 2)"><use fill="#000" filter="url(#a)" xlink:href="#b"/><use fill="#008A00" fill-rule="evenodd" xlink:href="#b"/></g><path d="M11 10h24v24H11"/><path fill="#FFF" fill-rule="nonzero" d="M31 14H15v2h16v-2zm1 10v-2l-1-5H15l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4h-6v-4h6v4z"/></g></svg>';this.icon={url:"data:image/svg+xml;base64, "+btoa(r),scaledSize:new i.maps.Size(48,64)},this.marker=new this.google.maps.Marker({animation:this.google.maps.Animation.DROP,position:this.latlng,optimized:!1,icon:this.icon,map:this.map}),this.bindEvents(o)}return s(t,[{key:"bindEvents",value:function(t){var e=this;this.marker.addListener("click",function(){return t(e.data,e.marker)})}},{key:"position",value:function(){return this.marker.getPosition()}}]),t}();e.exports=o},{}],4:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(e){var i=this;n(this,t),this._currentStoreType="all",this._view=e,this._view.onSelectStoreType(function(t){return i._selectStoreType(t)})}return s(t,[{key:"_selectStoreType",value:function(t){this._currentStoreType!==t?this._currentStoreType=t:this._currentStoreType="all",this._view.showCategories(this._currentStoreType)}}]),t}();e.exports=o},{}],5:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(){n(this,t),this._typeFilters=document.querySelectorAll(".card-search__filters--type .filter-checkbox"),this._categoryFilters=document.querySelectorAll(".card-search__filters--category .filter-checkbox")}return s(t,[{key:"showCategories",value:function(t){var e=!0,i=!1,n=void 0;try{for(var s,o=this._typeFilters[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){var r=s.value;this._checkFor(r,t)}}catch(t){i=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw n}}var a=!0,l=!1,h=void 0;try{for(var c,u=this._categoryFilters[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var d=c.value;this._enableFor(d,t)}}catch(t){l=!0,h=t}finally{try{!a&&u.return&&u.return()}finally{if(l)throw h}}}},{key:"onSelectStoreType",value:function(t){var e=!0,i=!1,n=void 0;try{for(var s,o=this._typeFilters[Symbol.iterator]();!(e=(s=o.next()).done);e=!0)!function(){var e=s.value;e.querySelector("input").addEventListener("click",function(){return t(e.dataset.type)})}()}catch(t){i=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw n}}}},{key:"_checkFor",value:function(t,e){t.querySelector("input").checked=t.dataset.type===e}},{key:"_enableFor",value:function(t,e){var i=t.querySelector("input"),n=t.querySelector(".filter-checkbox__label");i.disabled="0"===t.getAttribute("data-"+e),n.className="filter-checkbox__label filter-checkbox__label--"+e}}]),t}();e.exports=o},{}],6:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(e,i,s,o,r){var a=this;n(this,t),this.latitudeInput=document.getElementById(i),this.longitudeInput=document.getElementById(s),this.searchInput=document.getElementById(o),this.searchInput.onchange=function(){return a.clearCoordinates()},this.errorMessageElement=document.querySelector(r),this.locationStatus=null,this.locationButton=document.querySelector(e),this.locationButton.addEventListener("click",function(){return a.getLocation()})}return s(t,[{key:"getLocation",value:function(){var t=this,e={enableHighAccuracy:!1,timeout:5e3,maximumAge:0};return navigator.geolocation.getCurrentPosition(function(e){return t.success(e)},function(){return t.error()},e),this.updateStatus("pending"),!1}},{key:"clearCoordinates",value:function(){this.latitudeInput.value="",this.longitudeInput.value=""}},{key:"updateStatus",value:function(t){this.locationStatus&&this.locationButton.classList.remove("field-location__geolocate--"+this.locationStatus),this.locationButton.classList.add("field-location__geolocate--"+t),this.locationStatus=t}},{key:"success",value:function(t){var e=t.coords;this.latitudeInput.value=e.latitude,this.longitudeInput.value=e.longitude,this.searchInput.value="Current location",this.updateStatus("success")}},{key:"error",value:function(){this.errorMessageElement.classList.toggle("u-hidden"),this.errorMessageElement.innerHTML+="Sorry, we couldn't determine your device's location. Try entering a search instead.",this.clearCoordinates(),this.updateStatus("error")}}]),t}();e.exports=o},{}],7:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(e,i){n(this,t),this.view=e,this.localTime=i}return s(t,[{key:"init",value:function(){var t=this;this.view.containers().forEach(function(e){return t._setStatus(e)})}},{key:"_setStatus",value:function(t){var e=this,i=this.view.days(t).filter(function(t){return parseInt(t.day)===e.localTime().getDay()}).map(function(t){return e._status(t)});i.length>0&&(this.view.setStatus(i[0].status,t),this.view.setStatusText(i[0].description,t))}},{key:"_isMatchFor",value:function(t){var e=this._totalMinutes(this.localTime().getHours(),this.localTime().getMinutes());return e>=this._totalMinutes(parseInt(t.openingHour),parseInt(t.openingMinute))&&e<=this._totalMinutes(parseInt(t.closingHour),parseInt(t.closingMinute))}},{key:"_totalMinutes",value:function(t,e){return 60*t+e}},{key:"_status",value:function(t){return this._isMatchFor(t)?this._statusFor(t.matchStatus,t.matchDescription):this._statusFor(t.noMatchStatus,t.noMatchDescription)}},{key:"_statusFor",value:function(t,e){return{status:t,description:e}}}]),t}();e.exports=o},{}],8:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=t("../classes/Map"),r=t("debounce"),a=t("sticky-state"),l=function(){function t(e){n(this,t),this.pageHeader=document.querySelector(".page-header"),this.pageWidth=window.innerWidth,this.searchMap=document.querySelector("[data-search-map]"),this.searchResults=document.querySelector("[data-search-results]"),this.searchContainer=this.searchMap.parentNode,this.searchView="list",this.toggleElement=document.querySelector("[data-map-toggle]"),this.toggleButton=null,this.toggleButtonText="",null!==this.toggleElement&&(this.toggleButton=this.toggleElement.querySelector(".toggle-button"),this.toggleButtonText=this.toggleButton.querySelector(".toggle-button__text")),this.mapInit=!1,this.data=e||{search:{lat:53.710844,lng:-3.718277}},this.latlng={lat:this.data.search.lat,lng:this.data.search.lng},this.zoom=this.data.places?12:6,this.bindEvents()}return s(t,[{key:"ready",value:function(){this.resizeContainer(),null!==this.toggleButton&&this.stickButton(),window.matchMedia("(min-width: 768px)").matches&&this.load()}},{key:"load",value:function(){this.map=new o(this.searchMap,this.latlng,{zoom:this.zoom}),this.map.load(this.data.places),this.mapInit=!0}},{key:"bindEvents",value:function(){var t=this;window.addEventListener("DOMContentLoaded",function(){t.resizeContainer()},!0),window.addEventListener("resize",function(){t.pageWidth!==window.innerWidth&&(t.pageWidth=window.innerWidth,t.resizeContainer()),window.matchMedia("(min-width: 768px)").matches&&!t.mapInit&&t.load()},!0),null!==this.toggleButton&&this.toggleButton.addEventListener("click",function(e){e.preventDefault(),r(t.toggleView(),200)},!1)}},{key:"resizeContainer",value:function(){if(window.matchMedia("(max-width: 767px)").matches){this.windowHeight=window.innerHeight,this.headerHeight=this.pageHeader.offsetHeight;var t=Math.floor(this.windowHeight-this.headerHeight)+"px";this.searchMap.style.height=t,"map"===this.searchView&&(this.searchContainer.style.height=t)}else this.searchMap.style.height="",this.searchContainer.style.height=""}},{key:"stickButton",value:function(){this.toggleElement.style.marginTop=-Math.abs(this.toggleElement.offsetHeight)+"px",new a(this.toggleElement,{className:"view-toggle",wrapperClass:"toggle-wrap",stateClassName:"view-toggle--is-sticky",absoluteClass:"view-toggle--absolute",fixedClass:"view-toggle--fixed"})}},{key:"toggleView",value:function(){this.searchMap.classList.toggle(this.searchMap.classList[0]+"--active"),this.searchResults.classList.toggle(this.searchResults.classList[0]+"--active"),this.toggleButtonText.innerHTML="Map view"===this.toggleButtonText.innerHTML?"List view":"Map view",this.searchView="list"===this.searchView?"map":"list","map"===this.searchView?this.searchContainer.style.height=this.searchMap.style.height:(this.searchContainer.style.height="",this.map.closeWindow()),this.mapInit||this.load()}}]),t}();e.exports=l},{"../classes/Map":2,debounce:13,"sticky-state":23}],9:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(){n(this,t),this._containers=Array.from(document.getElementsByClassName("opening-times list-details__text"))}return s(t,[{key:"containers",value:function(){return this._containers}},{key:"days",value:function(t){return this._elementsToDays(Array.from(t.querySelectorAll(".opening-times__item")))}},{key:"setStatus",value:function(t,e){e.querySelector("#opening-times-status").innerHTML=t}},{key:"setStatusText",value:function(t,e){e.querySelector("#opening-times-text").innerHTML=t}},{key:"_elementsToDays",value:function(t){return t.map(function(t){return{day:t.getAttribute("data-day"),openingHour:t.getAttribute("data-start-hour"),openingMinute:t.getAttribute("data-start-minute"),closingHour:t.getAttribute("data-end-hour"),closingMinute:t.getAttribute("data-end-minute"),matchStatus:t.getAttribute("data-match-status"),matchDescription:t.getAttribute("data-match-text"),noMatchStatus:t.getAttribute("data-no-match-status"),noMatchDescription:t.getAttribute("data-no-match-text")}})}}]),t}();e.exports=o},{}],10:[function(t,e,i){"use strict";var n=t("./components/SearchMap"),s=t("./components/Geosearch"),o=t("./components/OpeningTimes"),r=t("./components/ShopOpeningTimesView"),a=t("./components/AdvancedFilters"),l=t("./components/AdvancedFiltersView"),h=null;"undefined"!=typeof ogb&&(h=ogb.finderResults),new n(h).ready(),new s("[data-geolocate]","latitude-input","longitude-input","search-term","[data-field-location-error]"),new o(new r,function(){return new Date}).init(),new a(new l)},{"./components/AdvancedFilters":4,"./components/AdvancedFiltersView":5,"./components/Geosearch":6,"./components/OpeningTimes":7,"./components/SearchMap":8,"./components/ShopOpeningTimesView":9}],11:[function(t,e,i){function n(){for(var t,e,i=[],s=-1;++s<arguments.length;)if(arguments[s])if(t=arguments[s],"string"===(e=typeof t)||"number"===e)i.push(t);else if(Array.isArray(t)){var r=n.apply(null,t);i=i.length?i.join(" ").split(" "):i;for(var a=-1;++a<r.length;)i.indexOf(r[a])===-1&&i.push(r[a])}else if("object"===e){var l=i.length;i=l?i.join(" ").split(" "):i;for(var h in t)if(o.call(t,h)){var c=l?i.indexOf(h):-1;t[h]?c<0&&(i.push(h),++l):c>-1&&i.splice(c,1)}}return i}function s(){return n.apply(null,arguments).join(" ")}var o={}.hasOwnProperty;e.exports=s},{}],12:[function(require,module,exports){"use strict";function cloneFunction(func){var out,str;try{str=func.toString(),out=/\[native code\]/.test(str)?func:eval("(function(){return "+str+"}());")}catch(t){throw new Error(t.message+"\r\n\r\n"+str)}return out}module.exports=cloneFunction},{}],13:[function(t,e,i){e.exports=function(t,e,i){function n(){var h=Date.now()-a;h<e&&h>=0?s=setTimeout(n,e-h):(s=null,i||(l=t.apply(r,o),r=o=null))}var s,o,r,a,l;null==e&&(e=100);var h=function(){r=this,o=arguments,a=Date.now();var h=i&&!s;return s||(s=setTimeout(n,e)),h&&(l=t.apply(r,o),r=o=null),l};return h.clear=function(){s&&(clearTimeout(s),s=null)},h}},{}],14:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t){return!t||0===Object.keys(t).length}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.target,s=e.currentTarget;n(this,t),this.target=i||this,this.currentTarget=s||this,this.eventMap={},this.destroyed=!1,this.on=this.bind=this.addEventListener=this.addListener,this.off=this.unbind=this.removeEventListener=this.removeListener,this.once=this.one=this.addListenerOnce,this.emit=this.trigger=this.dispatchEvent=this.dispatch}return t.prototype.addListener=function(t,e){var i=this.getListener(t);return i?i.indexOf(e)===-1&&i.push(e):this.eventMap[t]=[e],this},t.prototype.addListenerOnce=function(t,e){var i=this,n=function n(s){e(s),i.off(t,n)};return this.on(t,n)},t.prototype.removeListener=function(t,e){if(!e)return this.removeAllListener(t);var i=this.getListener(t);if(i){var n=i.indexOf(e);n>-1&&(i.splice(n,1),i.length||delete this.eventMap[t])}return this},t.prototype.removeAllListener=function(t){return this.getListener(t)&&(this.eventMap[t].length=0,delete this.eventMap[t]),this},t.prototype.hasListener=function(t){return null!==this.getListener(t)},t.prototype.hasListeners=function(){return null!==this.eventMap&&void 0!==this.eventMap&&!s(this.eventMap)},t.prototype.dispatch=function(t,e){var i=this.getListener(t);if(i){var n=e||{};n.type=t,n.target=n.target||this.target,n.currentTarget=n.currentTarget||this.currentTarget;for(var s=-1;++s<i.length;)i[s](n)}return this},t.prototype.getListener=function(t){return(this.eventMap?this.eventMap[t]:null)||null},t.prototype.destroy=function(){if(this.eventMap)for(var t=Object.keys(this.eventMap),e=0;e<t.length;e++)this.removeAllListener(t[e]);return this.eventMap=null,this.destroyed=!0,this},t}();i.default=o,e.exports=i.default},{}],15:[function(t,e,i){function n(t){t=t||{},google.maps.OverlayView.apply(this,arguments),this.content_=t.content||"",this.disableAutoPan_=t.disableAutoPan||!1,this.maxWidth_=t.maxWidth||0,this.pixelOffset_=t.pixelOffset||new google.maps.Size(0,0),this.position_=t.position||new google.maps.LatLng(0,0),this.zIndex_=t.zIndex||null,this.boxClass_=t.boxClass||"infoBox",this.boxStyle_=t.boxStyle||{},this.closeBoxMargin_=t.closeBoxMargin||"2px",this.closeBoxURL_=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=t.infoBoxClearance||new google.maps.Size(1,1),void 0===t.visible&&(void 0===t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden_=!t.visible,this.alignBottom_=t.alignBottom||!1,this.pane_=t.pane||"floatPane",this.enableEventPropagation_=t.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.moveListener_=null,this.mapListener_=null,this.contextListener_=null,this.eventListeners_=null,this.fixedWidthSet_=null}n.prototype=new google.maps.OverlayView,n.prototype.createInfoBoxDiv_=function(){var t,e,i,n=this,s=function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()},o=function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),n.enableEventPropagation_||s(t)};if(!this.div_){if(this.div_=document.createElement("div"),this.setBoxStyle_(),void 0===this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.fixedWidthSet_=!0):(i=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-i.left-i.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),!this.enableEventPropagation_){for(this.eventListeners_=[],e=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],t=0;t<e.length;t++)this.eventListeners_.push(google.maps.event.addDomListener(this.div_,e[t],s));this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(t){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",o),google.maps.event.trigger(this,"domready")}},n.prototype.getCloseBoxImg_=function(){var t="";return""!==this.closeBoxURL_&&(t="<img",t+=" src='"+this.closeBoxURL_+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin_+";",t+="'>"),t},n.prototype.addClickHandler_=function(){var t;""!==this.closeBoxURL_?(t=this.div_.firstChild,
this.closeListener_=google.maps.event.addDomListener(t,"click",this.getCloseClickHandler_())):this.closeListener_=null},n.prototype.getCloseClickHandler_=function(){var t=this;return function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(t,"closeclick"),t.close()}},n.prototype.panBox_=function(t){var e,i=0,n=0;if(!t&&(e=this.getMap())instanceof google.maps.Map){e.getBounds().contains(this.position_)||e.setCenter(this.position_),e.getBounds();var s=e.getDiv(),o=s.offsetWidth,r=s.offsetHeight,a=this.pixelOffset_.width,l=this.pixelOffset_.height,h=this.div_.offsetWidth,c=this.div_.offsetHeight,u=this.infoBoxClearance_.width,d=this.infoBoxClearance_.height,p=this.getProjection().fromLatLngToContainerPixel(this.position_);if(p.x<-a+u?i=p.x+a-u:p.x+h+a+u>o&&(i=p.x+h+a+u-o),this.alignBottom_?p.y<-l+d+c?n=p.y+l-d-c:p.y+l+d>r&&(n=p.y+l+d-r):p.y<-l+d?n=p.y+l-d:p.y+c+l+d>r&&(n=p.y+c+l+d-r),0!==i||0!==n){e.getCenter();e.panBy(i,n)}}},n.prototype.setBoxStyle_=function(){var t,e;if(this.div_){this.div_.className=this.boxClass_,this.div_.style.cssText="",e=this.boxStyle_;for(t in e)e.hasOwnProperty(t)&&(this.div_.style[t]=e[t]);this.div_.style.WebkitTransform="translateZ(0)",void 0!==this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*this.div_.style.opacity+')"',this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_),this.div_.style.overflow||(this.div_.style.overflow="auto")}},n.prototype.getBoxWidths_=function(){var t,e={top:0,bottom:0,left:0,right:0},i=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(t=i.ownerDocument.defaultView.getComputedStyle(i,""))&&(e.top=parseInt(t.borderTopWidth,10)||0,e.bottom=parseInt(t.borderBottomWidth,10)||0,e.left=parseInt(t.borderLeftWidth,10)||0,e.right=parseInt(t.borderRightWidth,10)||0):document.documentElement.currentStyle&&i.currentStyle&&(e.top=parseInt(i.currentStyle.borderTopWidth,10)||0,e.bottom=parseInt(i.currentStyle.borderBottomWidth,10)||0,e.left=parseInt(i.currentStyle.borderLeftWidth,10)||0,e.right=parseInt(i.currentStyle.borderRightWidth,10)||0),e},n.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},n.prototype.draw=function(){this.createInfoBoxDiv_();var t=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=t.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(t.y+this.pixelOffset_.height)+"px":this.div_.style.top=t.y+this.pixelOffset_.height+"px",this.isHidden_?this.div_.style.visibility="hidden":this.div_.style.visibility="visible"},n.prototype.setOptions=function(t){void 0!==t.boxClass&&(this.boxClass_=t.boxClass,this.setBoxStyle_()),void 0!==t.boxStyle&&(this.boxStyle_=t.boxStyle,this.setBoxStyle_()),void 0!==t.content&&this.setContent(t.content),void 0!==t.disableAutoPan&&(this.disableAutoPan_=t.disableAutoPan),void 0!==t.maxWidth&&(this.maxWidth_=t.maxWidth),void 0!==t.pixelOffset&&(this.pixelOffset_=t.pixelOffset),void 0!==t.alignBottom&&(this.alignBottom_=t.alignBottom),void 0!==t.position&&this.setPosition(t.position),void 0!==t.zIndex&&this.setZIndex(t.zIndex),void 0!==t.closeBoxMargin&&(this.closeBoxMargin_=t.closeBoxMargin),void 0!==t.closeBoxURL&&(this.closeBoxURL_=t.closeBoxURL),void 0!==t.infoBoxClearance&&(this.infoBoxClearance_=t.infoBoxClearance),void 0!==t.isHidden&&(this.isHidden_=t.isHidden),void 0!==t.visible&&(this.isHidden_=!t.visible),void 0!==t.enableEventPropagation&&(this.enableEventPropagation_=t.enableEventPropagation),this.div_&&this.draw()},n.prototype.setContent=function(t){this.content_=t,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),void 0===t.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+t:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(t)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px",void 0===t.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+t:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(t))),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},n.prototype.setPosition=function(t){this.position_=t,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},n.prototype.setZIndex=function(t){this.zIndex_=t,this.div_&&(this.div_.style.zIndex=t),google.maps.event.trigger(this,"zindex_changed")},n.prototype.setVisible=function(t){this.isHidden_=!t,this.div_&&(this.div_.style.visibility=this.isHidden_?"hidden":"visible")},n.prototype.getContent=function(){return this.content_},n.prototype.getPosition=function(){return this.position_},n.prototype.getZIndex=function(){return this.zIndex_},n.prototype.getVisible=function(){return void 0!==this.getMap()&&null!==this.getMap()&&!this.isHidden_},n.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},n.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},n.prototype.open=function(t,e){var i=this;e&&(this.position_=e.getPosition(),this.moveListener_=google.maps.event.addListener(e,"position_changed",function(){i.setPosition(this.getPosition())}),this.mapListener_=google.maps.event.addListener(e,"map_changed",function(){i.setMap(this.map)})),this.setMap(t),this.div_&&this.panBox_()},n.prototype.close=function(){var t;if(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListeners_){for(t=0;t<this.eventListeners_.length;t++)google.maps.event.removeListener(this.eventListeners_[t]);this.eventListeners_=null}this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.mapListener_&&(google.maps.event.removeListener(this.mapListener_),this.mapListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null)},e.exports=n},{}],16:[function(t,e,i){!function(t,n){if(null===t)throw new Error("Google-maps package can be used only in browser");"function"==typeof define&&define.amd?define(n):"object"==typeof i?e.exports=n():t.GoogleMapsLoader=n()}("undefined"!=typeof window?window:null,function(){"use strict";var t=null,e=null,i=!1,n=[],s=[],o=null,r={};r.URL="https://maps.googleapis.com/maps/api/js",r.KEY=null,r.LIBRARIES=[],r.CLIENT=null,r.CHANNEL=null,r.LANGUAGE=null,r.REGION=null,r.VERSION="3.18",r.WINDOW_CALLBACK_NAME="__google_maps_api_provider_initializator__",r._googleMockApiObject={},r.load=function(t){null===e?i===!0?t&&n.push(t):(i=!0,window[r.WINDOW_CALLBACK_NAME]=function(){a(t)},r.createLoader()):t&&t(e)},r.createLoader=function(){t=document.createElement("script"),t.type="text/javascript",t.src=r.createUrl(),document.body.appendChild(t)},r.isLoaded=function(){return null!==e},r.createUrl=function(){var t=r.URL;return t+="?callback="+r.WINDOW_CALLBACK_NAME,r.KEY&&(t+="&key="+r.KEY),r.LIBRARIES.length>0&&(t+="&libraries="+r.LIBRARIES.join(",")),r.CLIENT&&(t+="&client="+r.CLIENT+"&v="+r.VERSION),r.CHANNEL&&(t+="&channel="+r.CHANNEL),r.LANGUAGE&&(t+="&language="+r.LANGUAGE),r.REGION&&(t+="&region="+r.REGION),t},r.release=function(a){var l=function(){r.KEY=null,r.LIBRARIES=[],r.CLIENT=null,r.CHANNEL=null,r.LANGUAGE=null,r.REGION=null,r.VERSION="3.18",e=null,i=!1,n=[],s=[],void 0!==window.google&&delete window.google,void 0!==window[r.WINDOW_CALLBACK_NAME]&&delete window[r.WINDOW_CALLBACK_NAME],null!==o&&(r.createLoader=o,o=null),null!==t&&(t.parentElement.removeChild(t),t=null),a&&a()};i?r.load(function(){l()}):l()},r.onLoad=function(t){s.push(t)},r.makeMock=function(){o=r.createLoader,r.createLoader=function(){window.google=r._googleMockApiObject,window[r.WINDOW_CALLBACK_NAME]()}};var a=function(t){var o;for(i=!1,null===e&&(e=window.google),o=0;o<s.length;o++)s[o](e);for(t&&t(e),o=0;o<n.length;o++)n[o](e);n=[]};return r})},{}],17:[function(t,e,i){!function(t,e){"object"==typeof i&&i&&"string"!=typeof i.nodeName?e(i):"function"==typeof define&&define.amd?define(["exports"],e):(t.Mustache={},e(t.Mustache))}(this,function(t){function e(t){return"function"==typeof t}function i(t){return g(t)?"array":typeof t}function n(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function s(t,e){return null!=t&&"object"==typeof t&&e in t}function o(t,e){return v.call(t,e)}function r(t){return!o(m,t)}function a(t){return String(t).replace(/[&<>"'`=\/]/g,function(t){return y[t]})}function l(e,i){function s(t){if("string"==typeof t&&(t=t.split(_,2)),!g(t)||2!==t.length)throw new Error("Invalid tags: "+t);o=new RegExp(n(t[0])+"\\s*"),a=new RegExp("\\s*"+n(t[1])),l=new RegExp("\\s*"+n("}"+t[1]))}if(!e)return[];var o,a,l,d=[],p=[],f=[],v=!1,m=!1;s(i||t.tags);for(var y,L,k,O,C,M,T=new u(e);!T.eos();){if(y=T.pos,k=T.scanUntil(o))for(var E=0,B=k.length;E<B;++E)O=k.charAt(E),r(O)?f.push(p.length):m=!0,p.push(["text",O,y,y+1]),y+=1,"\n"===O&&function(){if(v&&!m)for(;f.length;)delete p[f.pop()];else f=[];v=!1,m=!1}();if(!T.scan(o))break;if(v=!0,L=T.scan(S)||"name",T.scan(w),"="===L?(k=T.scanUntil(b),T.scan(b),T.scanUntil(a)):"{"===L?(k=T.scanUntil(l),T.scan(x),T.scanUntil(a),L="&"):k=T.scanUntil(a),!T.scan(a))throw new Error("Unclosed tag at "+T.pos);if(C=[L,k,y,T.pos],p.push(C),"#"===L||"^"===L)d.push(C);else if("/"===L){if(!(M=d.pop()))throw new Error('Unopened section "'+k+'" at '+y);if(M[1]!==k)throw new Error('Unclosed section "'+M[1]+'" at '+y)}else"name"===L||"{"===L||"&"===L?m=!0:"="===L&&s(k)}if(M=d.pop())throw new Error('Unclosed section "'+M[1]+'" at '+T.pos);return c(h(p))}function h(t){for(var e,i,n=[],s=0,o=t.length;s<o;++s)(e=t[s])&&("text"===e[0]&&i&&"text"===i[0]?(i[1]+=e[1],i[3]=e[3]):(n.push(e),i=e));return n}function c(t){for(var e,i,n=[],s=n,o=[],r=0,a=t.length;r<a;++r)switch(e=t[r],e[0]){case"#":case"^":s.push(e),o.push(e),s=e[4]=[];break;case"/":i=o.pop(),i[5]=e[2],s=o.length>0?o[o.length-1][4]:n;break;default:s.push(e)}return n}function u(t){this.string=t,this.tail=t,this.pos=0}function d(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function p(){this.cache={}}var f=Object.prototype.toString,g=Array.isArray||function(t){return"[object Array]"===f.call(t)},v=RegExp.prototype.test,m=/\S/,y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},w=/\s*/,_=/\s+/,b=/\s*=/,x=/\s*\}/,S=/#|\^|\/|>|\{|&|=|!/;u.prototype.eos=function(){return""===this.tail},u.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var i=e[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i},u.prototype.scanUntil=function(t){var e,i=this.tail.search(t);switch(i){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=e.length,e},d.prototype.push=function(t){return new d(t,this)},d.prototype.lookup=function(t){var i,n=this.cache;if(n.hasOwnProperty(t))i=n[t];else{for(var o,r,a=this,l=!1;a;){if(t.indexOf(".")>0)for(i=a.view,o=t.split("."),r=0;null!=i&&r<o.length;)r===o.length-1&&(l=s(i,o[r])),i=i[o[r++]];else i=a.view[t],l=s(a.view,t);if(l)break;a=a.parent}n[t]=i}return e(i)&&(i=i.call(this.view)),i},p.prototype.clearCache=function(){this.cache={}},p.prototype.parse=function(t,e){var i=this.cache,n=i[t];return null==n&&(n=i[t]=l(t,e)),n},p.prototype.render=function(t,e,i){var n=this.parse(t),s=e instanceof d?e:new d(e);return this.renderTokens(n,s,i,t)},p.prototype.renderTokens=function(t,e,i,n){for(var s,o,r,a="",l=0,h=t.length;l<h;++l)r=void 0,s=t[l],o=s[0],"#"===o?r=this.renderSection(s,e,i,n):"^"===o?r=this.renderInverted(s,e,i,n):">"===o?r=this.renderPartial(s,e,i,n):"&"===o?r=this.unescapedValue(s,e):"name"===o?r=this.escapedValue(s,e):"text"===o&&(r=this.rawValue(s)),void 0!==r&&(a+=r);return a},p.prototype.renderSection=function(t,i,n,s){function o(t){return r.render(t,i,n)}var r=this,a="",l=i.lookup(t[1]);if(l){if(g(l))for(var h=0,c=l.length;h<c;++h)a+=this.renderTokens(t[4],i.push(l[h]),n,s);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)a+=this.renderTokens(t[4],i.push(l),n,s);else if(e(l)){if("string"!=typeof s)throw new Error("Cannot use higher-order sections without the original template");l=l.call(i.view,s.slice(t[3],t[5]),o),null!=l&&(a+=l)}else a+=this.renderTokens(t[4],i,n,s);return a}},p.prototype.renderInverted=function(t,e,i,n){var s=e.lookup(t[1]);if(!s||g(s)&&0===s.length)return this.renderTokens(t[4],e,i,n)},p.prototype.renderPartial=function(t,i,n){if(n){var s=e(n)?n(t[1]):n[t[1]];return null!=s?this.renderTokens(this.parse(s),i,n,s):void 0}},p.prototype.unescapedValue=function(t,e){var i=e.lookup(t[1]);if(null!=i)return i},p.prototype.escapedValue=function(e,i){var n=i.lookup(e[1]);if(null!=n)return t.escape(n)},p.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.3.0",t.tags=["{{","}}"];var L=new p;return t.clearCache=function(){return L.clearCache()},t.parse=function(t,e){return L.parse(t,e)},t.render=function(t,e,n){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+i(t)+'" was given as the first argument for mustache#render(template, view, partials)');return L.render(t,e,n)},t.to_html=function(i,n,s,o){var r=t.render(i,n,s);if(!e(o))return r;o(r)},t.escape=a,t.Scanner=u,t.Context=d,t.Writer=p,t})},{}],18:[function(t,e,i){function n(t,e){"use strict";return Object.keys(t).forEach(function(i){e(t[i],i,t)}),t}e.exports=n},{}],19:[function(t,e,i){function n(t){"use strict";t=t||{},this.depth=t.depth||!1,this.throwOnCircularRef=!("throwOnCircularRef"in t&&t.throwOnCircularRef===!1)}function s(t){"use strict";var e=Array.prototype.slice.call(arguments,0);return e.unshift(null),new(n.bind.apply(n,e))}function o(e){"use strict";function i(t){return t.reduce(function(t,e){return e instanceof Object?t.push(e):t=[],t},[])}function o(t){var e,i=t[t.length-1];if(i instanceof Array)e=[];else if(i instanceof Function)try{e=h(i)}catch(t){throw new Error(t.message)}else e=i instanceof Object?{}:i;return e}function r(t){t.forEach(function(t){if(t instanceof Object&&c.indexOf(t)>-1)throw new Error("Circular reference error")}),c=c.concat(t)}function a(t,e){function n(t,i,n){h[i]?h[i]=a([h[i],n[i]],e):h[i]=a([n[i]],e)}function s(t){l(t,n)}e=u.depth!==!1?e?e+1:1:0,u.throwOnCircularRef===!0&&r(t);var h=o(t);if(h instanceof Object&&e<=u.depth){i(t).forEach(s)}return h}var l=t("object-foreach"),h=t("clone-function"),c=[],u={};return arguments[0]instanceof n?(u=arguments[0],e=Array.prototype.slice.call(arguments,1)):(u=s(),e=Array.prototype.slice.call(arguments,0)),a(e)}o.createOptions=s,e.exports=o},{"clone-function":12,"object-foreach":18}],20:[function(t,e,i){"use strict";var n=/(auto|scroll)/,s=function(t){var e=window.getComputedStyle(t,null);return n.test(e.getPropertyValue("overflow")+e.getPropertyValue("overflow-y")+e.getPropertyValue("overflow-x"))};e.exports=s},{}],21:[function(t,e,i){"use strict";var n=t("./has-overflow"),s=function(t){if(!(t instanceof HTMLElement))return window;for(;t.parentNode;){if(t.parentNode===document.body)return window;if(n(t.parentNode))return t.parentNode;t=t.parentNode}return window};e.exports=s},{"./has-overflow":20}],22:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=t("eventdispatcher"),h=n(l),c=t("./scroll-parent"),u=n(c),d=function(){window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame)},p=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s(this,e),e.hasInstance(i)){var r;return r=e.getInstance(i),o(a,r)}var a=o(this,t.call(this,{target:i}));return a._scrollTarget=null,a._y=0,a._x=0,a._speedY=0,a._speedX=0,a._lastSpeed=0,a._lastDirectionY=e.direction.none,a._lastDirectionX=e.direction.none,a._stopFrames=3,a._currentStopFrames=0,a._firstRender=!0,a._directionY=e.direction.none,a._directionX=e.direction.none,a._scrolling=!1,a._canScrollY=!1,a._canScrollX=!1,i.scrollFeatures=a,a._scrollTarget=i,a.options=n,g.animationFrame&&d(),a.init(),a}return r(e,t),e.getInstance=function(t,i){return t.scrollFeatures?t.scrollFeatures:new e(t,i)},e.hasInstance=function(t){return void 0!==t.scrollFeatures},e.getScrollParent=function(t){return(0,u.default)(t)},a(e,null,[{key:"windowY",get:function(){return window.pageYOffset||window.scrollY||0}},{key:"windowX",get:function(){return window.pageXOffset||window.scrollX||0}},{key:"documentHeight",get:function(){return Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)}},{key:"documentWidth",get:function(){return Math.max(document.body.scrollWidth,document.body.offsetWidth,document.documentElement.clientWidth,document.documentElement.scrollWidth,document.documentElement.offsetWidth)}}]),e.prototype.init=function(){var t=this;if(this.getScrollPosition=this._scrollTarget===window?function(){return{y:e.windowY,x:e.windowX}}.bind(this):function(){return{y:this._scrollTarget.scrollTop,x:this._scrollTarget.scrollLeft}}.bind(this),this.onResize=function(){t.trigger(e.events.SCROLL_RESIZE)},this.onScroll=this.onScroll.bind(this),this.onNextFrame=this.onNextFrame.bind(this),this.updateScrollPosition(),this._scrollTarget!==window){var i=/(auto|scroll)/,n=window.getComputedStyle(this._scrollTarget,null);this._canScrollY=i.test(n.getPropertyValue("overflow-y")),this._canScrollX=i.test(n.getPropertyValue("overflow-x"))}else this._canScrollY=this.clientHeight<this.scrollHeight,this._canScrollX=this.clientWidth<this.scrollWidth;this._scrollTarget.addEventListener?(this._scrollTarget.addEventListener("scroll",this.onScroll,!1),this._scrollTarget.addEventListener("resize",this.onResize,!1)):this._scrollTarget.attachEvent&&(this._scrollTarget.attachEvent("scroll",this.onScroll),this._scrollTarget.attachEvent("resize",this.onResize))},e.prototype.destroy=function(){this._cancelNextFrame(),t.prototype.destroy.call(this),this._scrollTarget&&(this._scrollTarget.addEventListener?(this._scrollTarget.removeEventListener("scroll",this.onScroll),this._scrollTarget.removeEventListener("resize",this.onResize)):this._scrollTarget.attachEvent&&(this._scrollTarget.detachEvent("scroll",this.onScroll),this._scrollTarget.detachEvent("resize",this.onResize))),this.onResize=null,this.onScroll=null,this.getScrollPosition=null,this.onNextFrame=null,delete this._scrollTarget.scrollFeatures,this._scrollTarget=null},e.prototype.updateScrollPosition=function(){this._y=this.y,this._x=this.x},e.prototype.onScroll=function(){if(this._currentStopFrames=0,this._firstRender&&(this._firstRender=!1,this.y>1||this.x>1))return this.updateScrollPosition(),void this.trigger(e.events.SCROLL_PROGRESS);this._scrolling||(this._scrolling=!0,this._lastDirectionY=e.direction.none,this._lastDirectionX=e.direction.none,this.trigger(e.events.SCROLL_START),g.animationFrame?this.nextFrameID=window.requestAnimationFrame(this.onNextFrame):this.onNextFrame())},e.prototype.onNextFrame=function(){var t=this;this._speedY=this._y-this.y,this._speedX=this._x-this.x;var i=+this.speedY+ +this.speedX;if(this._scrolling&&0===i&&this._currentStopFrames++>this._stopFrames)return void this.onScrollStop();this.updateScrollPosition(),this._lastDirectionY!==this.directionY&&this.trigger("scroll:"+(this.directionY===e.direction.down?"down":"up")),this._lastDirectionX!==this.directionX&&this.trigger("scroll:"+(this.directionX===e.direction.right?"right":"left")),this._lastDirectionY=this.directionY,this._lastDirectionX=this.directionX,this.trigger(e.events.SCROLL_PROGRESS),g.animationFrame?this.nextFrameID=window.requestAnimationFrame(this.onNextFrame):this._nextTimeout=setTimeout(function(){t.onNextFrame()},1e3/60)},e.prototype.onScrollStop=function(){this._scrolling=!1,this.updateScrollPosition(),this.trigger(e.events.SCROLL_STOP),this._canScrollY&&(this.y<=0?this.trigger(e.events.SCROLL_MIN):this.y+this.clientHeight>=this.scrollHeight&&this.trigger(e.events.SCROLL_MAX)),this._canScrollX&&(this.x<=0?this.trigger(e.events.SCROLL_MIN):this.x+this.clientWidth>=this.scrollWidth&&this.trigger(e.events.SCROLL_MAX)),this._cancelNextFrame()},e.prototype._cancelNextFrame=function(){this._currentStopFrames=0,g.animationFrame?(window.cancelAnimationFrame(this.nextFrameID),this.nextFrameID=-1):clearTimeout(this._nextTimeout)},a(e,[{key:"scrollPosition",get:function(){return this.getScrollPosition()}},{key:"directionY",get:function(){return!this._canScrollY||0===this.speedY&&!this._scrolling?this._directionY=e.direction.none:this.speedY>0?this._directionY=e.direction.up:this.speedY<0&&(this._directionY=e.direction.down),this._directionY}},{key:"directionX",get:function(){return!this._canScrollX||0===this.speedX&&!this._scrolling?this._directionX=e.direction.none:this.speedX>0?this._directionX=e.direction.left:this.speedX<0&&(this._directionX=e.direction.right),this._directionX}},{key:"scrollTarget",get:function(){return this._scrollTarget}},{key:"scrolling",get:function(){return this._scrolling}},{key:"speedY",get:function(){return this._speedY}},{key:"speedX",get:function(){return this._speedX}},{key:"canScrollY",get:function(){return this._canScrollY}},{key:"canScrollX",get:function(){return this._canScrollX}},{key:"y",get:function(){return this.scrollPosition.y}},{key:"x",get:function(){return this.scrollPosition.x}},{key:"clientHeight",get:function(){return this._scrollTarget===window?window.innerHeight:this._scrollTarget.clientHeight}},{key:"clientWidth",get:function(){return this._scrollTarget===window?window.innerWidth:this._scrollTarget.clientWidth}},{key:"scrollHeight",get:function(){return this._scrollTarget===window?e.documentHeight:this._scrollTarget.scrollHeight}},{key:"scrollWidth",get:function(){return this._scrollTarget===window?e.documentWidth:this._scrollTarget.scrollWidth}}]),e}(h.default);p.direction={up:-1,down:1,none:0,right:2,left:-2},p.events={SCROLL_PROGRESS:"scroll:progress",SCROLL_START:"scroll:start",SCROLL_STOP:"scroll:stop",SCROLL_DOWN:"scroll:down",SCROLL_UP:"scroll:up",SCROLL_MIN:"scroll:min",SCROLL_MAX:"scroll:max",SCROLL_RESIZE:"scroll:resize"},i.default=p;var f=null,g=function(){function t(){s(this,t)}return a(t,null,[{key:"animationFrame",get:function(){return null===f&&(f=!!(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame)),f}}]),t}();e.exports=i.default},{"./scroll-parent":21,eventdispatcher:14}],23:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=t("object-assign"),h=n(l),c=t("classstring"),u=n(c),d=t("eventdispatcher"),p=n(d),f=t("scrollfeatures"),g=n(f),v={disabled:!1,className:"sticky",stateClassName:"is-sticky",fixedClass:"sticky-fixed",wrapperClass:"sticky-wrap",wrapFixedSticky:!0,absoluteClass:"is-absolute",scrollClass:{down:null,up:null,none:null,persist:!1,active:!1}},m={sticky:!1,absolute:!1,fixedOffset:"",offsetHeight:0,bounds:{top:null,left:null,right:null,bottom:null,height:null,width:null},restrict:{top:null,left:null,right:null,bottom:null,height:null,width:null},wrapperStyle:null,elementStyle:null,initialStyle:null,style:{top:null,bottom:null,left:null,right:null,"margin-top":0,"margin-bottom":0,"margin-left":0,"margin-right":0},disabled:!1},y=function(t,e){var i=t.getBoundingClientRect(),n=i.top+g.default.windowY,s=e||i.height;return{top:n,bottom:n+s,height:s,width:i.width,left:i.left,right:i.right}},w=function(t,e){var i=(0,h.default)({},t);return i.top-=e.top,i.left-=e.left,i.right=i.left+t.width,i.bottom=i.top+t.height,i},_=function(t){var e={},i=window.getComputedStyle(t,null);for(var n in m.style){var s=parseInt(i.getPropertyValue(n));s=isNaN(s)?null:s,e[n]=s}return e},b=function t(e){var i=e.previousElementSibling;return i&&"script"===i.tagName.toLocaleLowerCase()&&(i=t(i)),i},x=function(t){function e(i,n){s(this,e);var r;i instanceof window.NodeList&&(r=[].slice.call(i,1),i=i[0]);var a=o(this,t.call(this,{target:i}));if(a.el=null,a.firstRender=!0,a.scroll=null,a.wrapper=null,a.options=null,a.el=i,n&&n.scrollClass&&(n.scrollClass=(0,h.default)({},v.scrollClass,n.scrollClass,{active:!0})),a.options=(0,h.default)({},v,n),a.setState((0,h.default)({},m,{disabled:a.options.disabled}),!0),a.scrollTarget=g.default.getScrollParent(a.el),a.hasOwnScrollTarget=a.scrollTarget!==window,a.hasOwnScrollTarget&&(a.updateFixedOffset=a.updateFixedOffset.bind(a)),a.render=a.render.bind(a),a.addSrollHandler(),a.addResizeHandler(),a.render(),r&&r.length){var l,c=e.apply(r,n);return c.push(a),l=c,o(a,l)}return a}return r(e,t),e.apply=function(t,i){if(t&&t.length){for(var n=new k,s=0;s<t.length;s++)n.push(new e(t[s],i));return n}return new e(t,i)},e.prototype.setState=function(t,e){this.lastState=this.state||t,this.state=(0,h.default)({},this.state,t),e!==!0&&(this.render(),this.trigger(this.state.sticky?"sticky:on":"sticky:off"))},e.prototype.disable=function(t){this.setState({disabled:t},t)},e.prototype.getBoundingClientRect=function(){return this.el.getBoundingClientRect()},e.prototype.getBounds=function(t){var e=this.getBoundingClientRect(),i=g.default.documentHeight;if((t=t===!0)!==!0&&null!==this.state.bounds.height&&this.state.offsetHeight===i&&e.height===this.state.bounds.height)return{offsetHeight:i,style:this.state.style,bounds:this.state.bounds,restrict:this.state.restrict};var n=this.state.initialStyle;n||(n=_(this.el));var s,o,r=n,a=this.wrapper||this.el,l=0;if(L.sticky){var h=b(a);l=0,h?(l=parseInt(window.getComputedStyle(h)["margin-bottom"]),l=l||0,s=y(h),this.hasOwnScrollTarget&&(s=w(s,y(this.scrollTarget)),l+=this.scroll.y),s.top=s.bottom+l):(h=a.parentNode,l=parseInt(window.getComputedStyle(h)["padding-top"]),l=l||0,s=y(h),this.hasOwnScrollTarget&&(s=w(s,y(this.scrollTarget)),l+=this.scroll.y),s.top=s.top+l),this.hasOwnScrollTarget&&(o=y(this.scrollTarget),o.top=0,o.height=this.scroll.scrollHeight||o.height,o.bottom=o.height),s.height=a.clientHeight,s.width=a.clientWidth,s.bottom=s.top+s.height}else if(s=y(a,e.height),this.hasOwnScrollTarget){var c=y(this.scrollTarget);l=this.scroll.y,s=w(s,c),o=c,o.top=0,o.height=this.scroll.scrollHeight||o.height,o.bottom=o.height}return o=o||y(a.parentNode),{offsetHeight:i,style:r,bounds:s,initialStyle:n,restrict:o}},e.prototype.updateBounds=function(t,e){t=t===!0,e=e===!0,this.setState(this.getBounds(e),t)},e.prototype.updateFixedOffset=function(){this.lastState.fixedOffset=this.state.fixedOffset,this.state.sticky?this.state.fixedOffset=this.scrollTarget.getBoundingClientRect().top+"px;":this.state.fixedOffset="",this.lastState.fixedOffset!==this.state.fixedOffset&&this.render()},e.prototype.addSrollHandler=function(){if(!this.scroll){var t=g.default.hasInstance(this.scrollTarget);this.scroll=g.default.getInstance(this.scrollTarget),this.onScroll=this.onScroll.bind(this),this.scroll.on("scroll:start",this.onScroll),this.scroll.on("scroll:progress",this.onScroll),this.scroll.on("scroll:stop",this.onScroll),this.options.scrollClass.active&&(this.onScrollDirection=this.onScrollDirection.bind(this),this.scroll.on("scroll:up",this.onScrollDirection),this.scroll.on("scroll:down",this.onScrollDirection),this.options.scrollClass.persist||this.scroll.on("scroll:stop",this.onScrollDirection)),t&&this.scroll.scrollY>0&&this.scroll.trigger("scroll:progress")}},e.prototype.removeSrollHandler=function(){this.scroll&&(this.scroll.off("scroll:start",this.onScroll),this.scroll.off("scroll:progress",this.onScroll),this.scroll.off("scroll:stop",this.onScroll),this.options.scrollClass.active&&(this.scroll.off("scroll:up",this.onScrollDirection),this.scroll.off("scroll:down",this.onScrollDirection),this.scroll.off("scroll:stop",this.onScrollDirection)),this.scroll.hasListeners()||this.scroll.destroy(),this.onScroll=null,this.onScrollDirection=null,this.scroll=null)},e.prototype.addResizeHandler=function(){this.onResize||(this.onResize=this.update.bind(this),window.addEventListener("sticky:update",this.onResize,!1),window.addEventListener("resize",this.onResize,!1),window.addEventListener("orientationchange",this.onResize,!1))},e.prototype.removeResizeHandler=function(){this.onResize&&(window.removeEventListener("sticky:update",this.onResize),window.removeEventListener("resize",this.onResize),window.removeEventListener("orientationchange",this.onResize),this.onResize=null)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.removeSrollHandler(),this.removeResizeHandler(),this.render=null,this.el=null,this.state=null,this.wrapper=null},e.prototype.getScrollClasses=function(t){if(this.options.scrollClass.active){t=t||{};var e=this.scroll.y<=0||this.scroll.y+this.scroll.clientHeight>=this.scroll.scrollHeight?0:this.scroll.directionY;t[this.options.scrollClass.up]=e<0,t[this.options.scrollClass.down]=e>0}return t},e.prototype.onScrollDirection=function(t){(this.state.sticky||t.type===g.default.events.SCROLL_STOP)&&(this.el.className=(0,u.default)(this.el.className,this.getScrollClasses()))},e.prototype.onScroll=function(t){this.updateStickyState(!1),this.hasOwnScrollTarget&&!L.sticky&&(this.updateFixedOffset(),this.state.sticky&&!this.hasWindowScrollListener?(this.hasWindowScrollListener=!0,g.default.getInstance(window).on("scroll:progress",this.updateFixedOffset)):!this.state.sticky&&this.hasWindowScrollListener&&(this.hasWindowScrollListener=!1,g.default.getInstance(window).off("scroll:progress",this.updateFixedOffset)))},e.prototype.update=function(){this.scroll.updateScrollPosition(),this.updateBounds(!0,!0),this.updateStickyState(!1)},e.prototype.getStickyState=function(){if(this.state.disabled)return{sticky:!1,
absolute:!1};var t=this.scroll.y,e=(this.scroll.x,this.state.style.top),i=this.state.style.bottom,n=this.state.sticky,s=this.state.absolute;if(null!==e){var o=this.state.restrict.bottom-this.state.bounds.height-e;e=this.state.bounds.top-e,this.state.sticky===!1&&(t>=e&&t<=o||e<=0&&t<e)?(n=!0,s=!1):this.state.sticky&&(e>0&&t<e||t>o)&&(n=!1,s=t>o)}else if(null!==i){t+=window.innerHeight;var r=this.state.restrict.top+this.state.bounds.height-i;i=this.state.bounds.bottom+i,this.state.sticky===!1&&t<=i&&t>=r?(n=!0,s=!1):this.state.sticky&&(t>i||t<r)&&(n=!1,s=t<=r)}return{sticky:n,absolute:s}},e.prototype.updateStickyState=function(t){var e=this.getStickyState();e.sticky===this.state.sticky&&e.absolute===this.state.absolute||(t=t===!0,e=(0,h.default)(e,this.getBounds()),this.setState(e,t))},e.prototype.render=function(){if(!this.state.disabled){var t={};if(this.firstRender){if(this.firstRender=!1,!L.sticky){this.wrapper=document.createElement("div"),this.wrapper.className=this.options.wrapperClass;var e=this.el.parentNode;e&&e.insertBefore(this.wrapper,this.el),this.options.wrapFixedSticky&&this.wrapper.appendChild(this.el),t[this.options.fixedClass]=!0}this.updateBounds(!0,!0),this.updateStickyState(!0)}if(!L.sticky){var i="",n=this.state.disabled||null===this.state.bounds.height||!this.state.sticky&&!this.state.absolute?"auto;":this.state.bounds.height+"px;",s="height:"+n;s+="auto;"===n?"":(this.state.style["margin-top"]?"margin-top:"+this.state.style["margin-top"]+"px;":"0;")+(this.state.style["margin-bottom"]?"margin-bottom"+this.state.style["margin-bottom"]+"px;":"0;"),this.state.absolute!==this.lastState.absolute&&(s+=this.state.absolute?"position:relative;":"",t[this.options.absoluteClass]=this.state.absolute,i+=this.state.absolute?null!==this.state.style.top?"margin-top:"+(this.state.restrict.height-(this.state.bounds.height+this.state.style.top)+(this.state.restrict.top-this.state.bounds.top))+"px;":"margin-top:0;"+(null!==this.state.style.bottom?"margin-bottom:"+(this.state.restrict.height-(this.state.bounds.height+this.state.style.bottom)+(this.state.restrict.bottom-this.state.bounds.bottom))+"px;":"margin-bottom:0;"):"margin-bottom:0;margin-top:0;"),null===this.state.style.top&&null===this.state.style.bottom||!this.hasOwnScrollTarget||this.state.absolute||this.lastState.fixedOffset===this.state.fixedOffset||(i+="margin-top:"+(this.state.fixedOffset?this.state.fixedOffset:"0;")),this.state.wrapperStyle!==s&&(this.state.wrapperStyle=s,this.wrapper.style.cssText+=s),this.state.elementStyle!==i&&(this.state.elementStyle=i,this.el.style.cssText+=i)}t[this.options.stateClassName]=this.state.sticky,t=this.getScrollClasses(t);var o=(0,u.default)(this.el.className,t);return this.el.className!==o&&(this.el.className=o),this.el}},a(e,null,[{key:"native",get:function(){return L.sticky}}]),e}(p.default),S=null,L=function(){function t(){s(this,t)}return a(t,null,[{key:"sticky",get:function(){if(null!==S)return S;if("undefined"!=typeof window){if(window.Modernizr&&window.Modernizr.hasOwnProperty("csspositionsticky"))return S=window.Modernizr.csspositionsticky;var t=document.documentElement,e=document.createElement("div");t.appendChild(e);var i=["sticky","-webkit-sticky"];S=!1;for(var n=0;n<i.length&&(e.style.position=i[n],!(S=!!window.getComputedStyle(e).position.match("sticky")));n++);t.removeChild(e)}return S}}]),t}(),k=function(t){function e(){s(this,e);var i=o(this,t.call(this));return i.items=[],i}return r(e,t),e.prototype.push=function(t){this.items.push(t)},e.prototype.update=function(){for(var t=-1;++t<this.items.length;)this.items[t].update()},e.prototype.addListener=function(t,e){for(var i=-1;++i<this.items.length;)this.items[i].addListener(t,e);return this},e.prototype.removeListener=function(t,e){for(var i=-1;++i<this.items.length;)this.items[i].removeListener(t,e);return this},e}(p.default);i.default=x,e.exports=i.default},{classstring:11,eventdispatcher:14,"object-assign":24,scrollfeatures:22}],24:[function(t,e,i){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,r,a=n(t),l=1;l<arguments.length;l++){i=Object(arguments[l]);for(var h in i)s.call(i,h)&&(a[h]=i[h]);if(Object.getOwnPropertySymbols){r=Object.getOwnPropertySymbols(i);for(var c=0;c<r.length;c++)o.call(i,r[c])&&(a[r[c]]=i[r[c]])}}return a}},{}]},{},[10]);
//# sourceMappingURL=shop-finder.js.map
